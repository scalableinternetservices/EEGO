<div class="container" id="listing">
<table class = "table table-striped" id="notification">
  <tbody>
  <% @notifications.each do |n|%>
  <tr><td><%= User.find(n.sender_user_id).email + " wants to invite you as a friend!"%></td>
  <% if n.status == 0 %>
  <td>
   <%= form_tag("/friends", method: "patch", id: "accept_invitation_#{n.id}") do%>
    <%=hidden_field_tag(:sender_user_id, n.sender_user_id) %>
    <%=text_field_tag :receiver_user_id, current_user.id ,type: :hidden %>
    <%= text_field_tag :n_id, n.id, type: :hidden %>
   <%end%>
    <button class = "btn btn-xs btn-primary" onclick = "accept_invitation(<%= n.id %>)">Accept</button>
    </td>
    <td>
      <%= form_tag(delete_friendship_path(n.sender_user_id), method: "delete", id: "decline_invitation_#{n.id}") do %>
      <%= text_field_tag :n_id, n.id, type: :hidden %>
    <% end %>
    <button class = "btn btn-xs btn-primary" onclick = "decline_invitation(<%= n.id %>)">Decline</button>
    </td>
    <% else %>
    <td></td>
    <td></td>
    <%end%>
    </tr>
<% end %>
    <div class = "text-center">
    <%= will_paginate @notifications, renderer: BootstrapPagination::Rails%>
    </div>
  </tbody>
</table>
</div>
<script>
    function accept_invitation(id) {
        var form1 = $("#accept_invitation_" + id);
        form1.submit();
    }
    function decline_invitation(id) {
        var form2 = $("#decline_invitation_" + id);
        form2.submit();
    }
</script>
